<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animated Slot Machine Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #222;
            color: #fff;
        }
        .game-container {
            width: 300px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0,0,0,0.3);
            padding: 20px;
            background-color: #444;
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>Animated Slot Machine</h1>
        <div class="slot-machine">
            <div class="slot" id="slot1"><div></div></div>
            <div class="slot" id="slot2"><div></div></div>
            <div class="slot" id="slot3"><div></div></div>
        </div>
        <div class="points">Points: <span id="points">100</span></div>
        <button id="spin-btn">Spin</button>
        <div class="upgrade-cost">Upgrade Cost: <span id="upgrade-cost">50</span> Points</div>
        <button id="upgrade-btn">Upgrade (x2 Winnings)</button>
    </div>

    <script>
        let points = 100;
        let multiplier = 1;
        const slotSymbols = ["ðŸ’", "ðŸ‹", "ðŸ‡", "ðŸ‰", "â­", "ðŸŠ"];
        const spinBtn = document.getElementById("spin-btn");
        const upgradeBtn = document.getElementById("upgrade-btn");
        const pointsDisplay = document.getElementById("points");
        const upgradeCostDisplay = document.getElementById("upgrade-cost");

        function getRandomSymbol() {
            return slotSymbols[Math.floor(Math.random() * slotSymbols.length)];
        }

        function updatePoints(amount) {
            points += amount;
            pointsDisplay.textContent = points;
        }

        function animateSlots(slot, finalSymbol) {
            slot.innerHTML = ''; // Clear the current symbol
            let div = document.createElement("div");
            slot.appendChild(div);

            let spins = 10; // Number of spins
            let spinInterval = setInterval(() => {
                div.textContent = getRandomSymbol();
            }, 100);

            setTimeout(() => {
                clearInterval(spinInterval);
                div.textContent = finalSymbol;
            }, spins * 100);
        }

        function spinSlots() {
            spinBtn.disabled = true;

            const finalSymbols = [getRandomSymbol(), getRandomSymbol(), getRandomSymbol()];
            animateSlots(document.getElementById("slot1"), finalSymbols[0]);
            animateSlots(document.getElementById("slot2"), finalSymbols[1]);
            animateSlots(document.getElementById("slot3"), finalSymbols[2]);

            setTimeout(() => {
                if (finalSymbols[0] === finalSymbols[1] && finalSymbols[1] === finalSymbols[2]) {
                    const winAmount = 20 * multiplier;
                    alert(`You won ${winAmount} points!`);
                    updatePoints(winAmount);
                } else {
                    alert("Try again!");
                    updatePoints(-10);
                }
                spinBtn.disabled = false;
            }, 1100);
        }

        function upgradeMultiplier() {
            const upgradeCost = 50 * multiplier;
            if (points >= upgradeCost) {
                points -= upgradeCost;
                multiplier *= 2;
                updatePoints(0); // Update display
                upgradeCostDisplay.textContent = `Upgrade Cost: ${upgradeCost * multiplier} Points`;
                alert(`Upgrade successful! Multiplier is now x${multiplier}.`);
            } else {
                alert("Not enough points to upgrade.");
            }

            checkButtonStates();
        }

        function checkButtonStates() {
            spinBtn.disabled = points < 10;
            upgradeBtn.disabled = points < multiplier * 50;
        }

        spinBtn.addEventListener("click", spinSlots);
        upgradeBtn.addEventListener("click", upgradeMultiplier);
        checkButtonStates();
    </script>
</body>
</html>
